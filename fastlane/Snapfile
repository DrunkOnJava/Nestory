# Snapfile Configuration for Nestory

# Device to use for screenshots - iPhone 16 Pro Max only
devices([
  "iPhone 16 Pro Max"
])

# Languages to use (English only for now)
languages([
  "en-US"
])

# Project configuration (using xcodeproj instead of workspace)
project "./Nestory.xcodeproj"

# Scheme to use for UI Tests
scheme "Nestory-Dev"

# Output directory for screenshots
output_directory "./fastlane/screenshots"

# Clear previous screenshots
clear_previous_screenshots true

# Stop after first error
stop_after_first_error false

# Reinstall app between runs
reinstall_app true

# Number of retries for failing tests
number_of_retries 1

# Skip opening the HTML summary after generating screenshots
skip_open_summary false

# Override status bar (optional - for consistent screenshots)
override_status_bar true

# Status bar overrides for clean screenshots
override_status_bar_arguments "--time 9:41 --dataNetwork wifi --wifiMode active --wifiBars 3 --cellularMode active --cellularBars 4 --batteryState charged --batteryLevel 100"

# Test without building (faster iteration during development)
test_without_building false

# Concurrent simulators (set to 1 for stability)
concurrent_simulators 1